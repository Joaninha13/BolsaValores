#pragma once // Utils da bolsa

#include <windows.h>
#include <tchar.h>
#include <math.h>
#include <stdio.h>
#include <fcntl.h> 
#include <io.h>
#include <string.h>

#define TAM 100
#define MAX_USERS 20
#define MAX_EMPRESAS 30
#define MAX_ACOES_BOARD 10

// Vamos fazer estruturas de dados para um exemplo de bolsa de valores
// Cada usuário tem um nome, senha, saldo
// Cada ação para venda tem nome da empresa, o número de ações a vende o valor de cada ação e o usuário que está vendendo
// Cada empresa tem um nome, o numero de ações e um valor


typedef struct {

	TCHAR userName[TAM], password[TAM];
	DWORD saldo;

} User;

// Estrutura para responder/mandar mensagens ao cliente
typedef struct {
	TCHAR mensagem[TAM]; // Mensagem de resposta da bolsa
	BOOL sucesso;
} Response;

typedef struct {

	TCHAR company[TAM];
	DWORD numAcoes[MAX_USERS], valor; // numAcoes[i] é o número de ações que o usuário i tem.
	User usersVenda[MAX_USERS]; // usersVenda[i] é o usuário que está vendendo as ações numAcoes[i].

} CompanyShares;

// Estrutura para operações de compra/venda
typedef struct {
	BOOL isCompra; // TRUE para compra, FALSE para venda
	TCHAR nomeEmpresa[TAM];
	DWORD quantidadeAcoes;
} Operation;


typedef struct {

	User users[MAX_USERS];
	CompanyShares company[MAX_EMPRESAS];

} Bolsa;


typedef struct {

	CompanyShares acoes[MAX_ACOES_BOARD];
	CompanyShares venda;

} MemoriaPartilhadaBoard;




